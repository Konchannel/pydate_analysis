# 統計学
### 検定にも誤りはある（検定の誤り）
検定はあくまでも、確率を用いた"判断"であって、"真実"ではありません。  
たとえp値が0.001でも、可能性は0ではありません。このことを検定の誤りといいます。

### 用語
α
 - 有意水準
    - 仮説の確からしさがこのラインを下回ったら、その仮説は違うっしょー。っていうラインのこと
 - だいたいα = 0.05(5%)とされる。医療系の検定ならより厳密にα = 0.01(1%)とされることも
 
p値
 - 帰無仮説が正しいとしたときに、検定統計量がその値となる確率
     - 仮説からしたらこのデータ正しいかも、っていう確率のこと
     - p値が小さいほど、帰無仮説とデータは矛盾している
 - p値 <= α のとき、帰無仮説は棄却され、有意であるといえる
 
平均の罠
 - 大きな外れ値を含めて平均を取ることで、得られる示唆が変わってしまうこと
    - 平均給与がA社は800万円、B社は650万円でした。どちらに就職しよう？
    - A社がよさげだが、実は社員の給与は200万、社長の給与が1億円だったのだ。
    　平均値は正しいが、データを正しく見るためにはまず分布を見る必要がある
 
## t検定
統計量がt分布に従っている場合の検定。対象となるデータが正規分布に従っているときに使える。  
"平均に有意差があるかどうかの検定"に使われる。  
少ないサンプルで、も集団の平均を算出できるため、様々な場面でよく利用されている。
 - 対応のある場合（同じ人で実験前後を比較、など）のt検定
 - スチューデントのt検定
    - 2組のデータの対応がなく、かつ等分散性が仮定できる場合（例：東京と大阪の気温、男女の身長）
 - ウェルチのt検定
    - 2組のデータの対応がなく、かつ等分散性が仮定できない場合
    
t値
 - t分布に従う統計検定量のこと


### 対応のあるt検定
対応のある2つのデータ（d1とd2）に有意差があるかを求める

例  
ダイエットサプリ服用前後の体重の有意差  
帰無仮説：サプリに体重減少効果はない

コード  
```
from scipy import stats
weight1 = [68.1, 83.5, 60.8, 90.4, 48.2, 56.3, 52.4, 71.0]
weight2 = [67.8, 82.2, 61.5, 88.7, 46.7, 56.7, 51.9, 69.7]
stats.ttest_rel(weight1, weight2)
```  

結果  
`Ttest_relResult(statistic=2.1494966909576996, pvalue=0.068664638987602958)`  
t値が2.15、p値が0.06。  
α = 0.05よりp値の方が大きいため、帰無仮説を棄却できない。  
つまりサプリメントにダイエット効果はない。
